mbb_games <- gsheet2tbl("https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=136251738")
wbb_games <- gsheet2tbl("https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=1703250336")
logos <- read_csv("https://raw.githubusercontent.com/jeremydumalig/Chicago-Analytics/main/uaa_logos.csv")
if (women) {
logs <- wbb_logs
games <- wbb_games
if (uaa) {
subtitle <- paste("UAA Women's Basketball | Through", date)
} else {
subtitle <- paste("UAA Women's Basketball | Through", date, "| All Games")
}
} else {
logs <- mbb_logs
games <- mbb_games
if (uaa) {
subtitle <- paste("UAA Men's Basketball | Through", date)
} else {
subtitle <- paste("UAA Men's Basketball | Through", date, "| All Games")
}
}
if (uaa) {
conference <- "UAA Total"
} else {
conference <- "Total"
}
logs <-
logs %>%
filter(Opponent == conference) %>%
select(Team, `PPP`, `OPP PPP`, `ORB%`, `DRB%`, `TO%`, `OPP TO%`)
games <-
games %>%
filter(Game == conference) %>%
mutate(Team = "Chicago") %>%
select(Team, `PPP`, `OPP PPP`, `ORB%`, `DRB%`, `TO%`, `OPP TO%`)
conference <-
rbind(logs, games) %>%
merge(logos,
by="Team")
ppp <-
conference %>%
ggplot(aes(x=`PPP`,
y=`OPP PPP`)) +
geom_hline(yintercept=mean(conference$`OPP PPP`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`PPP`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Who runs the most efficient offense/defense?",
subtitle=subtitle,
x="Points Per Possession (PPP)",
y="Opponent Points Per Possession (OPP PPP)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
rebounds <-
conference %>%
ggplot(aes(x=`DRB%`,
y=`ORB%`)) +
geom_hline(yintercept=mean(conference$`ORB%`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`DRB%`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Who are the best and worst rebounding teams?",
subtitle=subtitle,
x="Defensive Rebound Rate (DRB%)",
y="Offensive Rebound Rate (ORB%)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
turnovers <-
conference %>%
ggplot(aes(x=`TO%`,
y=`OPP TO%`)) +
geom_hline(yintercept=mean(conference$`TO%`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`OPP TO%`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
xlim(floor(min(conference$`TO%`)), ceiling(max(conference$`TO%`))) +
ylim(floor(min(conference$`OPP TO%`)), ceiling(max(conference$`OPP TO%`))) +
labs(title="Which teams commit and force the most turnovers?",
subtitle=subtitle,
x="Team Turnover Rate (TO%)",
y="Opponent Turnover Rate (OPP TO%)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
# ppp
rebounds
# turnovers
library(tidyverse)
library(ggplot2)
library(ggimage)
library(gsheet)
rm(list = ls())
women <- TRUE
date <- "February 5, 2023"
n <- 9
uaa <- TRUE
mbb_logs <- read_csv("https://raw.githubusercontent.com/jeremydumalig/Chicago-Analytics/main/mbb_uaa_scout.csv")
wbb_logs <- read_csv("https://raw.githubusercontent.com/jeremydumalig/Chicago-Analytics/main/wbb_uaa_scout.csv")
mbb_games <- gsheet2tbl("https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=136251738")
wbb_games <- gsheet2tbl("https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=1703250336")
logos <- read_csv("https://raw.githubusercontent.com/jeremydumalig/Chicago-Analytics/main/uaa_logos.csv")
if (women) {
logs <- wbb_logs
games <- wbb_games
if (uaa) {
subtitle <- paste("UAA Women's Basketball | Through", date)
} else {
subtitle <- paste("UAA Women's Basketball | Through", date, "| All Games")
}
} else {
logs <- mbb_logs
games <- mbb_games
if (uaa) {
subtitle <- paste("UAA Men's Basketball | Through", date)
} else {
subtitle <- paste("UAA Men's Basketball | Through", date, "| All Games")
}
}
if (uaa) {
conference <- "UAA Total"
} else {
conference <- "Total"
}
logs <-
logs %>%
filter(Opponent == conference) %>%
select(Team, `PPP`, `OPP PPP`, `ORB%`, `DRB%`, `TO%`, `OPP TO%`)
games <-
games %>%
filter(Game == conference) %>%
mutate(Team = "Chicago") %>%
select(Team, `PPP`, `OPP PPP`, `ORB%`, `DRB%`, `TO%`, `OPP TO%`)
conference <-
rbind(logs, games) %>%
merge(logos,
by="Team")
ppp <-
conference %>%
ggplot(aes(x=`PPP`,
y=`OPP PPP`)) +
geom_hline(yintercept=mean(conference$`OPP PPP`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`PPP`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Who runs the most efficient offense/defense?",
subtitle=subtitle,
x="Points Per Possession (PPP)",
y="Opponent Points Per Possession (OPP PPP)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
rebounds <-
conference %>%
ggplot(aes(x=`DRB%`,
y=`ORB%`)) +
geom_hline(yintercept=mean(conference$`ORB%`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`DRB%`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Who are the best and worst rebounding teams?",
subtitle=subtitle,
x="Defensive Rebound Rate (DRB%)",
y="Offensive Rebound Rate (ORB%)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
turnovers <-
conference %>%
ggplot(aes(x=`TO%`,
y=`OPP TO%`)) +
geom_hline(yintercept=mean(conference$`TO%`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`OPP TO%`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
xlim(floor(min(conference$`TO%`)), ceiling(max(conference$`TO%`))) +
ylim(floor(min(conference$`OPP TO%`)), ceiling(max(conference$`OPP TO%`))) +
labs(title="Which teams commit and force the most turnovers?",
subtitle=subtitle,
x="Team Turnover Rate (TO%)",
y="Opponent Turnover Rate (OPP TO%)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
# ppp
rebounds
# turnovers
ppp
rebounds
turnovers
library(tidyverse)
library(ggplot2)
library(ggimage)
library(gsheet)
rm(list = ls())
women <- FALSE
date <- "February 5, 2023"
n <- 9
uaa <- TRUE
mbb_logs <- read_csv("https://raw.githubusercontent.com/jeremydumalig/Chicago-Analytics/main/mbb_uaa_scout.csv")
wbb_logs <- read_csv("https://raw.githubusercontent.com/jeremydumalig/Chicago-Analytics/main/wbb_uaa_scout.csv")
mbb_games <- gsheet2tbl("https://docs.google.com/spreadsheets/d/1BcIP7CIYDTNnedcRG3U3HAIwluaJtz8LCAKfArlEh98/edit#gid=136251738")
wbb_games <- gsheet2tbl("https://docs.google.com/spreadsheets/d/12JWqAMfVrSZobLohmxQK6PyrbNbOQbM6ux4LxXqWenM/edit#gid=1703250336")
logos <- read_csv("https://raw.githubusercontent.com/jeremydumalig/Chicago-Analytics/main/uaa_logos.csv")
if (women) {
logs <- wbb_logs
games <- wbb_games
if (uaa) {
subtitle <- paste("UAA Women's Basketball | Through", date)
} else {
subtitle <- paste("UAA Women's Basketball | Through", date, "| All Games")
}
} else {
logs <- mbb_logs
games <- mbb_games
if (uaa) {
subtitle <- paste("UAA Men's Basketball | Through", date)
} else {
subtitle <- paste("UAA Men's Basketball | Through", date, "| All Games")
}
}
if (uaa) {
conference <- "UAA Total"
} else {
conference <- "Total"
}
logs <-
logs %>%
filter(Opponent == conference) %>%
select(Team, `PPP`, `OPP PPP`, `ORB%`, `DRB%`, `TO%`, `OPP TO%`)
games <-
games %>%
filter(Game == conference) %>%
mutate(Team = "Chicago") %>%
select(Team, `PPP`, `OPP PPP`, `ORB%`, `DRB%`, `TO%`, `OPP TO%`)
conference <-
rbind(logs, games) %>%
merge(logos,
by="Team")
ppp <-
conference %>%
ggplot(aes(x=`PPP`,
y=`OPP PPP`)) +
geom_hline(yintercept=mean(conference$`OPP PPP`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`PPP`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Who runs the most efficient offense/defense?",
subtitle=subtitle,
x="Points Per Possession (PPP)",
y="Opponent Points Per Possession (OPP PPP)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
rebounds <-
conference %>%
ggplot(aes(x=`DRB%`,
y=`ORB%`)) +
geom_hline(yintercept=mean(conference$`ORB%`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`DRB%`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
labs(title="Who are the best and worst rebounding teams?",
subtitle=subtitle,
x="Defensive Rebound Rate (DRB%)",
y="Offensive Rebound Rate (ORB%)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
turnovers <-
conference %>%
ggplot(aes(x=`TO%`,
y=`OPP TO%`)) +
geom_hline(yintercept=mean(conference$`TO%`), linetype="dashed") +
geom_vline(xintercept=mean(conference$`OPP TO%`), linetype="dashed") +
geom_image(aes(image=URL),
size=0.1,
stat='identity') +
xlim(floor(min(conference$`TO%`)), ceiling(max(conference$`TO%`))) +
ylim(floor(min(conference$`OPP TO%`)), ceiling(max(conference$`OPP TO%`))) +
labs(title="Which teams commit and force the most turnovers?",
subtitle=subtitle,
x="Team Turnover Rate (TO%)",
y="Opponent Turnover Rate (OPP TO%)",
caption=paste("(", toString(n), " total games)", sep="")) +
theme_linedraw() +
theme(
plot.margin = margin(1, 0.5, 0.5, 0.5, "cm"),
plot.background = element_rect(fill = "grey90",
color = "black"),
legend.box.background = element_rect(size=0.75),
axis.title.x = element_text(size=14),
axis.title.y = element_text(size=14),
plot.title = element_text(size=18,
face="bold"),
plot.subtitle = element_text(size=14),
plot.caption = element_text(size=10))
# ppp
rebounds
# turnovers
ppp
turnovers
library(tidyverse)
library(ggplot2)
library(gt)
library(gsheet)
library(janitor)
rm(list = ls())
setwd("/Users/jeremydumalig/Documents/GitHub/Chicago-Analytics")
read_csv("scout.csv") %>%
mutate(`W/L` = case_when(`W/L` %in% c("W", "L") ~ `W/L`,
TRUE ~ ""),
`Total?` = (Opponent == "Total")) %>%
arrange(`Total?`, desc(Margin)) %>%
select(-`Total?`) %>%
gt() %>%
tab_style(style = cell_fill(color = "lightgreen"),
locations = cells_body(rows = `W/L` == "W")) %>%
tab_style(style = cell_fill(color = "lightcoral"),
locations = cells_body(rows = `W/L` == "L")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_column_labels(columns = everything())) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(rows = Opponent == "Total")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = Opponent)) %>%
tab_header(title = md("Knox Advanced Statistics"),
subtitle = "UChicago Women's Basketball Team | 12/30/22 vs Knox")
read_csv("nyu_o2.csv") %>%
group_by(`Play Type`) %>%
summarize(Foul = sum(Outcome == "F"),
FGM = sum(Outcome == "1"),
FGA = sum(Outcome == "0") + sum(Outcome == "1")) %>%
ungroup() %>%
mutate(Frequency = 100 * round(FGA / sum(FGA), 3),
`Play Type` = case_when(`Play Type` == "Isolation Drive" ~ "Isolation/Drive",
TRUE ~ `Play Type`)) %>%
arrange(desc(FGA)) %>%
adorn_totals("row") %>%
mutate(`FG%` = case_when(FGA == 0 ~ 0,
TRUE ~ 100 * round(FGM / FGA, 3)),
Frequency = case_when(`Play Type` == "Total" ~ 100,
TRUE ~ Frequency),
Splits = paste(as.character(FGM), "/", as.character(FGA), sep="")) %>%
select(`Play Type`, Frequency, Foul, Splits, `FG%`) %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = `Play Type`)) %>%
tab_header(title = md("Chicago: Field Goal Attempt Outcomes"),
subtitle = "UChicago @ NYU | February 10, 2023")
read_csv("nyu_o2.csv") %>%
group_by(`Play Type`) %>%
summarize(Foul = sum(Outcome == "F"),
FGM = sum(Outcome == "1"),
FGA = sum(Outcome == "0") + sum(Outcome == "1")) %>%
ungroup() %>%
mutate(Frequency = 100 * round(FGA / sum(FGA), 3),
`Play Type` = case_when(`Play Type` == "Isolation Drive" ~ "Isolation/Drive",
TRUE ~ `Play Type`)) %>%
arrange(desc(FGA)) %>%
adorn_totals("row") %>%
mutate(`FG%` = case_when(FGA == 0 ~ 0,
TRUE ~ 100 * round(FGM / FGA, 3)),
Frequency = case_when(`Play Type` == "Total" ~ 100,
TRUE ~ Frequency),
Splits = paste(as.character(FGM), "/", as.character(FGA), sep="")) %>%
select(`Play Type`, Frequency, Foul, Splits, `FG%`) %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = `Play Type`)) %>%
tab_header(title = md("NYU: Field Goal Attempt Outcomes"),
subtitle = "UChicago @ NYU | February 10, 2023")
read_csv("nyu_m_threes2.csv") %>%
group_by(`Play Type`) %>%
summarize(FGM = sum(Outcome == "1"),
FGA = sum(Outcome == "0") + sum(Outcome == "1")) %>%
ungroup() %>%
mutate(Frequency = 100 * round(FGA / sum(FGA), 3),
`Play Type` = case_when(`Play Type` == "Isolation Drive" ~ "Isolation/Drive",
TRUE ~ `Play Type`)) %>%
arrange(desc(FGA)) %>%
adorn_totals("row") %>%
mutate(`FG%` = case_when(FGA == 0 ~ 0,
TRUE ~ 100 * round(FGM / FGA, 3)),
Frequency = case_when(`Play Type` == "Total" ~ 100,
TRUE ~ Frequency),
Splits = paste(as.character(FGM), "/", as.character(FGA), sep="")) %>%
select(`Play Type`, Frequency, Foul, Splits, `FG%`) %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = `Play Type`)) %>%
tab_header(title = md("NYU: 3-Point Outcomes"),
subtitle = "UChicago @ NYU | February 10, 2023")
read_csv("nyu_m_threes2.csv") %>%
group_by(`Play Type`) %>%
summarize(FGM = sum(Outcome == "1"),
FGA = sum(Outcome == "0") + sum(Outcome == "1")) %>%
ungroup() %>%
mutate(Frequency = 100 * round(FGA / sum(FGA), 3),
`Play Type` = case_when(`Play Type` == "Isolation Drive" ~ "Isolation/Drive",
TRUE ~ `Play Type`)) %>%
arrange(desc(FGA)) %>%
adorn_totals("row") %>%
mutate(`FG%` = case_when(FGA == 0 ~ 0,
TRUE ~ 100 * round(FGM / FGA, 3)),
Frequency = case_when(`Play Type` == "Total" ~ 100,
TRUE ~ Frequency),
Splits = paste(as.character(FGM), "/", as.character(FGA), sep="")) %>%
select(`Play Type`, Frequency, Splits, `FG%`) %>%
gt() %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_title(groups = "title")) %>%
tab_style(style = list(cell_text(weight = "bold")),
locations = cells_body(columns = `Play Type`)) %>%
tab_header(title = md("NYU: 3-Point Outcomes"),
subtitle = "UChicago @ NYU | February 10, 2023")
